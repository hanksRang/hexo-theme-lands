---
title: 主从复制和集群的区别
date: 2022-03-30 21:28:50
category: 
- backend
- distribution
tags: 分布式
---

<p style="font-size: 16px; ">
主从复制和集群是两个很容易混淆的概念。主从是一个独立完整的节点，至少有两个这样独立完整的节点，才能组成集群。
</p>

### 什么是主从复制？
主从关系中，主服务器和从服务器数据保持一致，从服务器从主服务器拷贝完整的数据。

### 什么是集群
集群之间的节点，应该是数据共享（data sharing）的，不同的节点保存的数据不一样，但是可以互相使用对方的数据。

### 举例说明
（1）以Mysql为例，一个主数据库可对应多个从数据库，当主数据库挂掉，可从从数据库中恢复数据。如1主2备，一个冷备加一个热备。
主从保证了数据的安全性，他们应该视为一个完整的节点。当存在大于等于两个这样的节点，可视为集群。集群的目的是为了解决单库
不能解决的问题，如单数据库容纳数据有限，必须要增加节点来存储。Mysql集群会涉及到分表、分库等问题。
（2）Redis官方文档中，也没有把主从模式视为集群，而是将主从复制视为提高可靠性的手段。Redis集群涉及到分区、分片等问题，
集群节点之间可共享数据。

### 总结
主从复制模型中，主服务挂了，从服务可替补，因为保证了数据的完整，所以整个节点仍然可用；集群中的某个节点整体失效（主备都挂了），
可认为集群不可用（数据已经不完整）。