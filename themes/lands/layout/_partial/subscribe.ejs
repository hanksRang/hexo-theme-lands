<div class="container">
    <div class="wants-wrapper w-padding2">
        <div class="row align-items-center justify-content-between">
            <div class="col-xl-6 col-lg-7 col-md-10">
                <div class="wantToWork-caption wantToWork-caption2">
                    <h2>订阅</h2>
                    <p>如果您对本站内容感兴趣，欢迎点击右方订阅本站。</p>
                </div>
            </div>
            <div class="col-xl-5 col-lg-5 col-md-12">
                <form action="#" class="search-box">
                    <div class="input-form">
                        <input id="subsEmail" style="text-transform: none; " type="text" placeholder="请输入您的邮箱地址">
                    </div>
                    <div class="search-form">
                        <a style="cursor: hand; display: block; " href="javascript:void(0);" onclick="subscribe()">点击订阅</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    function subscribe() {
        let email = document.getElementById("subsEmail").value
        if (email === undefined || email === '') {
            alert("请输入正确的邮箱地址!")
        } else {
            subsr(email)
            // alert("Subscribe successfully")
        }
    }

    function subsr(value) {
        $.ajax({
            // url:"http://localhost:8096/gene/sbsr/sbsr",
            url:"https://hongkezhang.com/gene/sbsr/sbsr",
            type:"post",
            contentType: "application/json",
            data: JSON.stringify(
                {mail: value}
            ),
            scriptCharset: 'UTF-8',
            beforeSend:function(xhr){
                // alert(this.data)
                console.log("before send");
            },
            success:function(data){
                console.log(data);
                alert(data.msg)
            },
            error:function(){
                console.log("请求error");
            },
            complete:function(xhr){
                console.log("complete");
                console.log(xhr);
            }
        })
    }
</script>